require("common/manifest.js.map")
require("common/vendor.js.map")
{"version":3,"sources":["webpack:///./src/App.vue?3c14","webpack:///./src/data/index.ts","webpack:///./src/store/index.js","webpack:///./src/App.vue","webpack:///./src/app.ts","webpack:///./src/data/api.ts","webpack:///./src/main.ts","webpack:///./src/store/modules/index.ts","webpack:///./src/store/modules/search.ts"],"names":["getCategories","fly","request","getCategoryProduct","id","search","q","getProductDetail","method","header","Vue","use","Vuex","Store","modules","index","plugins","createLogger","Fly","cookies","HOST","config","baseURL","interceptors","headers","map","v","k","join","response","url","indexOf","hcks","forEach","ck","split","data","err","wxApiToPromise","api","arg1","resolve","reject","opt","merge","success","r","fail","e","isApp","MyApp","Component","registerHooks","productionTip","prototype","$store","store","require","default","app","$mount","__awaiter","thisArg","_arguments","P","generator","fulfilled","value","step","next","rejected","result","done","then","apply","state","categories","products","mutations","updateCategories","updateCategoryProduct","actions","commit","console","log","namespaced","list","updateList","formatPrice","price","toString","len","length","slice","item","sell_price"],"mappings":";;;;;AAAA,yC;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACO,IAAIA,gBAAgB,SAAhBA,aAAgB,GAAM;AAC7B,WAAOC,iDAAGA,CAACC,OAAJ,CAAY,qBAAZ,CAAP;AACH,CAFM;AAGP;AACO,IAAIC,qBAAqB,SAArBA,kBAAqB,KAAM;AAClC,WAAOF,iDAAGA,CAACC,OAAJ,qCAA8CE,EAA9C,CAAP;AACH,CAFM;AAGP;AACO,IAAIC,SAAS,SAATA,MAAS,IAAK;AACrB,WAAOJ,iDAAGA,CAACC,OAAJ,CAAY,yBAAZ,EAAuC,EAAEI,IAAF,EAAvC,CAAP;AACH,CAFM;AAGP;AACO,IAAIC,mBAAmB,SAAnBA,gBAAmB,KAAM;AAChC;AACA,WAAON,iDAAGA,CAACC,OAAJ,uBAAkC;AACrC,aAAK;AACD,sBAAU,KADT;AAED,qCAAuBE,EAAvB,gBAFC;AAGD,oBAAQ;AACJ,6BAAa;AADT;AAHP,SADgC;AAQrC,aAAK;AACD,sBAAU,KADT;AAED,qCAAuBA,EAFtB;AAGD,oBAAQ;AAHP,SARgC;AAarC,aAAK;AACD,sBAAU,KADT;AAED,4CAA8BA;AAF7B,SAbgC;AAiBrC,aAAK;AACD,sBAAU,KADT;AAED,mBAAO;AAFN;AAjBgC,KAAlC,EAqBJ;AACCI,gBAAQ,MADT;AAECC,gBAAQ;AACJ,4BAAgB;AADZ;AAFT,KArBI,CAAP;AA2BH,CA7BM,C;;;;;;;;ACdP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEAC,2CAAGA,CAACC,GAAJ,CAAQC,qDAAR;;AAEA;AACA;AACA;;AAEe,6DAAIA,qDAAIA,CAACC,KAAT,CAAe;AAC5BC,WAAS;AACPC,0EADO;AAEPV,4EAAMA;AAFC,GADmB;AAK5BW,WAAS,CAACC,wDAAYA,EAAb;AALmB,CAAf,CAAf,E;;;;;;;;ACVA;AAAA;AAAA;AACA;AACA;AACA,EAAE,mBAAO,CAAC,GAA2gB;AACrhB;AACA,yBAAyB,mBAAO,CAAC,CAA4E;AAC7G;AACkG;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,6GAAc;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;;AAEzI;AACA,IAAI,KAAU,GAAG;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAEc,gFAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzChC;AAEA,IAAM,QAAQ,mBAAO,CAAC,EAAR,EAAiB,SAAjB,CAAd;AAQA;AAIA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AACE;AADF,mCAEU;AACN,gBAAI,MAAM,KAAK,KAAL,CAAW,GAAX,CAAe,UAAzB;AACA;AACA;AACA;AACA;AACD;AARH;AAAA;AAAA,iCAUQ;AACJ,kBAAM,QAAN;AACD;AAZH;AAAA;AAAA,iCAcQ;AACJ,kBAAM,QAAN;AACD;AAhBH;AAAA;AAAA,kCAkBS;AACL,kBAAM,SAAN;AACD;AApBH;;AAAA;AAAA,EAAkB,mEAAlB;AAAM,MAAG,YAHR,gGAAS,CAAC;AACT,YAAQ;AADC,CAAV,CAGQ,GAAH,GAAG,CAAH;AAuBS,4DAAf,E;;;;;;;;;;;;;;;;;ACrCA;AACA;AACO,IAAIhB,MAAM,IAAIiB,yDAAJ,EAAV;AACP,IAAIC,UAAU,EAAd;AACA,IAAMC,OAAO,mBAAb,C,CAAkC;AAClC;AACAnB,IAAIoB,MAAJ,CAAWC,OAAX,GAAqB,yBAArB;AACA;AACArB,IAAIsB,YAAJ,CAAiBrB,OAAjB,CAAyBS,GAAzB,CAA6B,UAACT,OAAD,EAAa;AACtC;AACAA,YAAQsB,OAAR,CAAgB,QAAhB,IAA4BC,kEAAGA,CAACN,OAAJ,EAAa,UAACO,CAAD,EAAIC,CAAJ;AAAA,eAAUA,IAAI,GAAJ,GAAUD,CAApB;AAAA,KAAb,EAAoCE,IAApC,CAAyC,GAAzC,CAA5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAO1B,OAAP;AACH,CAXD;AAYA;AACAD,IAAIsB,YAAJ,CAAiBM,QAAjB,CAA0BlB,GAA1B,CAA8B,UAACkB,QAAD,EAAc;AACxC,QAAIA,SAAS3B,OAAT,CAAiB4B,GAAjB,CAAqBC,OAArB,CAA6BX,IAA7B,KAAsC,CAA1C,EAA6C;AACzC,YAAIY,OAAOH,SAASL,OAAT,CAAiB,YAAjB,KAAkCK,SAASL,OAAT,CAAiB,YAAjB,CAA7C;AACA,YAAIQ,QAAQ,IAAZ,EAAkB;AACdA,iBAAKC,OAAL,CAAa,aAAK;AACd,oBAAIC,KAAKR,EAAES,KAAF,CAAQ,GAAR,EAAa,CAAb,EAAgBA,KAAhB,CAAsB,GAAtB,CAAT;AACAhB,wBAAQe,GAAG,CAAH,CAAR,IAAiBA,GAAG,CAAH,CAAjB;AACH,aAHD;AAIH;AACJ;AACD;AACA,WAAOL,SAASO,IAAhB;AACH,CAZD,EAYG,UAACC,GAAD,EAAS;AACR;AACA;AACH,CAfD;AAgBO,SAASC,cAAT,CAAwBC,GAAxB,EAA6BC,IAA7B,EAAmC;AACtC,WAAO,IAAI,sEAAQ,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,YAAIC,MAAMC,oEAAKA,CAAC;AACZC,mBADY,mBACJC,CADI,EACD;AACPL,wBAAQK,CAAR;AACH,aAHW;AAIZC,gBAJY,gBAIPC,CAJO,EAIJ;AACJN,uBAAOM,CAAP;AACH;AANW,SAAN,EAOPR,IAPO,CAAV;AAQAD,YAAII,GAAJ;AACH,KAVM,CAAP;AAWH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe1C,6EAAf,E;;;;;;;;AC7DA;AAAA;AAAA;AAAA;AACA;AACA,IAAIgD,QAAQ,KAAZ,C,CAAmB;AACnB,IAAIC,cAAJ;AACA;AACAD,QAAQ,IAAR;AACA;AACAE,yEAASA,CAACC,aAAV,CAAwB;AACpB;AACA,UAFoB,EAGpB,QAHoB,EAIpB,QAJoB;AAKpB;AACA,QANoB,EAOpB,QAPoB,EAQpB,SARoB,EASpB,QAToB,EAUpB,UAVoB,EAWpB,mBAXoB,EAYpB,eAZoB,EAapB,mBAboB,EAcpB,cAdoB,EAepB,cAfoB,CAAxB;AAiBA1C,mEAAGA,CAACW,MAAJ,CAAWgC,aAAX,GAA2B,KAA3B;AACA;AACA3C,mEAAGA,CAAC4C,SAAJ,CAAcC,MAAd,GAAuBC,gEAAvB;AACA;AACA,IAAIP,KAAJ,EAAW;AACP;AACAC,YAAQO,mBAAOA,CAAC,EAAR,EAAqBC,OAA7B;AACH,CAHD,MAIK;AACD;AACH;AACD,IAAMC,MAAM,IAAIjD,mEAAJ,CAAQwC,KAAR,CAAZ;AACAS,IAAIC,MAAJ,G;;;;;;;;;;;;;;;ACpCA,IAAIC,YAAa,QAAQ,KAAKA,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;AACrF,WAAO,KAAKD,MAAMA,IAAIA,qEAAV,CAAL,EAAyB,UAAUvB,OAAV,EAAmBC,MAAnB,EAA2B;AACvD,iBAASwB,SAAT,CAAmBC,KAAnB,EAA0B;AAAE,gBAAI;AAAEC,qBAAKH,UAAUI,IAAV,CAAeF,KAAf,CAAL;AAA8B,aAApC,CAAqC,OAAOnB,CAAP,EAAU;AAAEN,uBAAOM,CAAP;AAAY;AAAE;AAC3F,iBAASsB,QAAT,CAAkBH,KAAlB,EAAyB;AAAE,gBAAI;AAAEC,qBAAKH,UAAU,OAAV,EAAmBE,KAAnB,CAAL;AAAkC,aAAxC,CAAyC,OAAOnB,CAAP,EAAU;AAAEN,uBAAOM,CAAP;AAAY;AAAE;AAC9F,iBAASoB,IAAT,CAAcG,MAAd,EAAsB;AAAEA,mBAAOC,IAAP,GAAc/B,QAAQ8B,OAAOJ,KAAf,CAAd,GAAsC,IAAIH,CAAJ,CAAM,UAAUvB,OAAV,EAAmB;AAAEA,wBAAQ8B,OAAOJ,KAAf;AAAwB,aAAnD,EAAqDM,IAArD,CAA0DP,SAA1D,EAAqEI,QAArE,CAAtC;AAAuH;AAC/IF,aAAK,CAACH,YAAYA,UAAUS,KAAV,CAAgBZ,OAAhB,EAAyBC,cAAc,EAAvC,CAAb,EAAyDM,IAAzD,EAAL;AACH,KALM,CAAP;AAMH,CAPD;AAQA;AACA,IAAMM,QAAQ;AACVC,gBAAY,EADF;AAEVC,cAAU;AAFA,CAAd;AAIA,IAAMC,YAAY;AACdC,oBADc,4BACGJ,KADH,EACUC,UADV,EACsB;AAChCD,cAAMC,UAAN,GAAmBA,UAAnB;AACH,KAHa;AAIdI,yBAJc,iCAIQL,KAJR,EAIeE,QAJf,EAIyB;AACnCF,cAAME,QAAN,GAAiBA,QAAjB;AACH;AANa,CAAlB;AAQA,IAAMI,UAAU;AACZ;AACAjF,iBAFY,+BAEc;AAAA,YAAVkF,MAAU,QAAVA,MAAU;;AACtB,eAAOrB,UAAU,IAAV,EAAgB,KAAK,CAArB,EAAwB,KAAK,CAA7B,sFAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAClB7D,2FADkB;;AAAA;AAC/BoC,gCAD+B;;AAEnC+C,oCAAQC,GAAR,CAAY,SAAZ,EAAuBhD,IAAvB;AACA8C,mCAAO,kBAAP,EAA2B9C,KAAKA,IAAhC;;AAHmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAhC,EAAP;AAKH,KARW;;AASZ;AACAjC,sBAVY,qCAUmBC,EAVnB,EAUuB;AAAA,YAAd8E,MAAc,SAAdA,MAAc;;AAC/B,eAAOrB,UAAU,IAAV,EAAgB,KAAK,CAArB,EAAwB,KAAK,CAA7B,sFAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAClB1D,+FAAmBC,EAAnB,CADkB;;AAAA;AAC/BgC,gCAD+B;;AAEnC+C,oCAAQC,GAAR,CAAY,SAAZ,EAAuBhD,IAAvB;AACA8C,mCAAO,uBAAP,EAAgC9C,KAAKA,IAArC;;AAHmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAhC,EAAP;AAKH;AAhBW,CAAhB;AAkBe;AACXiD,gBAAY,IADD;AAEXP,wBAFW;AAGXH,gBAHW;AAIXM;AAJW,CAAf,E;;;;;;;;;;;;;;;ACvCA,IAAIpB,YAAa,QAAQ,KAAKA,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;AACrF,WAAO,KAAKD,MAAMA,IAAIA,qEAAV,CAAL,EAAyB,UAAUvB,OAAV,EAAmBC,MAAnB,EAA2B;AACvD,iBAASwB,SAAT,CAAmBC,KAAnB,EAA0B;AAAE,gBAAI;AAAEC,qBAAKH,UAAUI,IAAV,CAAeF,KAAf,CAAL;AAA8B,aAApC,CAAqC,OAAOnB,CAAP,EAAU;AAAEN,uBAAOM,CAAP;AAAY;AAAE;AAC3F,iBAASsB,QAAT,CAAkBH,KAAlB,EAAyB;AAAE,gBAAI;AAAEC,qBAAKH,UAAU,OAAV,EAAmBE,KAAnB,CAAL;AAAkC,aAAxC,CAAyC,OAAOnB,CAAP,EAAU;AAAEN,uBAAOM,CAAP;AAAY;AAAE;AAC9F,iBAASoB,IAAT,CAAcG,MAAd,EAAsB;AAAEA,mBAAOC,IAAP,GAAc/B,QAAQ8B,OAAOJ,KAAf,CAAd,GAAsC,IAAIH,CAAJ,CAAM,UAAUvB,OAAV,EAAmB;AAAEA,wBAAQ8B,OAAOJ,KAAf;AAAwB,aAAnD,EAAqDM,IAArD,CAA0DP,SAA1D,EAAqEI,QAArE,CAAtC;AAAuH;AAC/IF,aAAK,CAACH,YAAYA,UAAUS,KAAV,CAAgBZ,OAAhB,EAAyBC,cAAc,EAAvC,CAAb,EAAyDM,IAAzD,EAAL;AACH,KALM,CAAP;AAMH,CAPD;AAQA;AACA,IAAMM,QAAQ;AACVW,UAAM;AADI,CAAd;AAGA,IAAMR,YAAY;AACdS,cADc,sBACHZ,KADG,EACIW,IADJ,EACU;AACpB,iBAASE,WAAT,CAAqBC,KAArB,EAA4B;AACxBA,oBAAQA,MAAMC,QAAN,EAAR;AACA,gBAAIC,MAAMF,MAAMG,MAAhB;AACA,mBAAO,MAAMH,MAAMI,KAAN,CAAY,CAAZ,EAAeF,MAAM,CAArB,CAAN,GAAgC,GAAhC,GAAsCF,MAAMI,KAAN,CAAYF,MAAM,CAAlB,CAA7C;AACH;AACDL,aAAKrD,OAAL,CAAa,gBAAQ;AACjB6D,iBAAKC,UAAL,GAAkBP,YAAYM,KAAKC,UAAjB,CAAlB;AACH,SAFD;AAGApB,cAAMW,IAAN,GAAaA,IAAb;AACH;AAXa,CAAlB;AAaA,IAAML,UAAU;AACZ5E,UADY,wBACOC,CADP,EACU;AAAA,YAAb4E,MAAa,QAAbA,MAAa;;AAClB,eAAOrB,UAAU,IAAV,EAAgB,KAAK,CAArB,EAAwB,KAAK,CAA7B,sFAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAClBxD,mFAAOC,CAAP,CADkB;;AAAA;AAC/B8B,gCAD+B;;AAEnC+C,oCAAQC,GAAR,CAAY,SAAZ,EAAuBhD,IAAvB;AACA8C,mCAAO,YAAP,EAAqB9C,KAAKA,IAA1B;;AAHmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAhC,EAAP;AAKH;AAPW,CAAhB;AASe;AACXiD,gBAAY,IADD;AAEXV,gBAFW;AAGXG,wBAHW;AAIXG;AAJW,CAAf,E","file":"app.js","sourcesContent":["// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.1.2@vue-style-loader!./~/_css-loader@0.28.11@css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/_mpvue-loader@1.1.4@mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-501b3b24\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_px2rpx-loader@0.1.10@px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./~/_postcss-loader@2.1.6@postcss-loader/lib?{\"sourceMap\":true}!./~/_mpvue-loader@1.1.4@mpvue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = 103\n// module chunks = 2","import { fly } from './api';\r\n// 获取顶部tab分类\r\nexport let getCategories = () => {\r\n    return fly.request('api/shop/categories');\r\n};\r\n// 获取tab详情\r\nexport let getCategoryProduct = id => {\r\n    return fly.request(`api/shop/sub-category-products/${id}`);\r\n};\r\n// 搜索接口\r\nexport let search = q => {\r\n    return fly.request('api/shop/search-product', { q });\r\n};\r\n// 获取点击每一个商品的详情\r\nexport let getProductDetail = id => {\r\n    // 用fly请求数据 记得要return出去\r\n    return fly.request(`api/multi-requests`, {\r\n        \"0\": {\r\n            \"method\": \"GET\",\r\n            \"uri\": `shop/product/${id}/statistics`,\r\n            \"data\": {\r\n                \"__form_id\": null\r\n            }\r\n        },\r\n        \"1\": {\r\n            \"method\": \"GET\",\r\n            \"uri\": `shop/product/${id}`,\r\n            \"data\": {}\r\n        },\r\n        \"2\": {\r\n            \"method\": \"GET\",\r\n            \"uri\": `shop/comments/short/${id}`\r\n        },\r\n        \"3\": {\r\n            \"method\": \"GET\",\r\n            \"uri\": \"shop/user/badges/cart\"\r\n        }\r\n    }, {\r\n        method: 'POST',\r\n        header: {\r\n            'content-type': 'application/json'\r\n        }\r\n    });\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/index.ts","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport createLogger from 'vuex/dist/logger'\r\n\r\nVue.use(Vuex)\r\n\r\n// 引入modules\r\nimport index from './modules/index'\r\nimport search from './modules/search'\r\n\r\nexport default new Vuex.Store({\r\n  modules: {\r\n    index,\r\n    search\r\n  },\r\n  plugins: [createLogger()]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../node_modules/_mpvue-loader@1.1.4@mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-501b3b24\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../node_modules/_mpvue-loader@1.1.4@mpvue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_mpvue-loader@1.1.4@mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!awesome-typescript-loader?{\\\"useCache\\\":true}!./app.ts\"/* template */\nvar __vue_template__ = null\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\App.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-501b3b24\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-501b3b24\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 73\n// module chunks = 2","import { Vue, Component } from 'vue-property-decorator'\r\nimport Api from '@/data/api'\r\nconst debug = require('debug')('log:App')\r\n\r\ndeclare module \"vue/types/vue\" {\r\n  interface Vue {\r\n    $mp: any;\r\n  }\r\n}\r\n\r\n// 必须使用装饰器的方式来指定components\r\n@Component({\r\n  mpType: 'app', // mpvue特定\r\n} as any)\r\nclass App extends Vue {\r\n  // app hook\r\n  onLaunch() {\r\n    let opt = this.$root.$mp.appOptions\r\n    // debug('onLaunch', opt)\r\n    // Api.login().then(res => {\r\n    //   debug('login', res)\r\n    // })\r\n  }\r\n\r\n  onShow() {\r\n    debug('onShow')\r\n  }\r\n\r\n  onHide() {\r\n    debug('onHide')\r\n  }\r\n\r\n  mounted() { // vue hook\r\n    debug('mounted')\r\n  }\r\n}\r\n\r\nexport default App\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.ts","import Fly from \"flyio/dist/npm/wx\";\r\nimport { map, merge } from 'lodash';\r\nexport let fly = new Fly;\r\nlet cookies = {};\r\nconst HOST = 'https://127.0.0.1'; // 更改\r\n// 设置baseUrl\r\nfly.config.baseURL = \"https://api.chaping.tv/\";\r\n//添加请求拦截器\r\nfly.interceptors.request.use((request) => {\r\n    //给所有请求添加自定义header\r\n    request.headers[\"Cookie\"] = map(cookies, (v, k) => k + '=' + v).join(';');\r\n    //打印出请求体\r\n    // console.log(request.body)\r\n    //终止请求\r\n    //var err=new Error(\"xxx\")\r\n    //err.request=request\r\n    //return Promise.reject(new Error(\"\"))\r\n    //可以显式返回request, 也可以不返回，没有返回值时拦截器中默认返回request\r\n    return request;\r\n});\r\n//添加响应拦截器，响应拦截器会在then/catch处理之前执行\r\nfly.interceptors.response.use((response) => {\r\n    if (response.request.url.indexOf(HOST) == 0) {\r\n        let hcks = response.headers['set-cookie'] || response.headers['Set-Cookie'];\r\n        if (hcks != null) {\r\n            hcks.forEach(v => {\r\n                let ck = v.split(';')[0].split('=');\r\n                cookies[ck[0]] = ck[1];\r\n            });\r\n        }\r\n    }\r\n    //只将请求结果的data字段返回\r\n    return response.data;\r\n}, (err) => {\r\n    //发生网络错误后会走到这里\r\n    //return Promise.resolve(\"ssss\")\r\n});\r\nexport function wxApiToPromise(api, arg1) {\r\n    return new Promise((resolve, reject) => {\r\n        let opt = merge({\r\n            success(r) {\r\n                resolve(r);\r\n            },\r\n            fail(e) {\r\n                reject(e);\r\n            }\r\n        }, arg1);\r\n        api(opt);\r\n    });\r\n}\r\n// const Api = {\r\n//   login() {\r\n//     return wxApiToPromise(wx.login, {}).then(res => {\r\n//       // console.log(res.code)\r\n//       return res\r\n//     })\r\n//   },\r\n//   testForm() {\r\n//     return postForm(HOST, { a: 1 })\r\n//   }\r\n// }\r\nexport default fly;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/api.ts","import { Component, Vue } from 'vue-property-decorator';\r\nimport store from '@/store/index.js';\r\nlet isApp = false; //尝试mpvue-entry\r\nlet MyApp;\r\n/* app-only-begin */\r\nisApp = true;\r\n// 添加小程序hooks http://mpvue.com/mpvue/#_4\r\nComponent.registerHooks([\r\n    // app\r\n    'onLaunch',\r\n    'onShow',\r\n    'onHide',\r\n    // pages\r\n    'onLoad',\r\n    'onShow',\r\n    'onReady',\r\n    'onHide',\r\n    'onUnload',\r\n    'onPullDownRefresh',\r\n    'onReachBottom',\r\n    'onShareAppMessage',\r\n    'onPageScroll',\r\n    'onTabItemTap',\r\n]);\r\nVue.config.productionTip = false;\r\n// 挂载store\r\nVue.prototype.$store = store;\r\n/* app-only-end */\r\nif (isApp) {\r\n    // 在这个地方引入是为了registerHooks先执行\r\n    MyApp = require('./App.vue').default;\r\n}\r\nelse {\r\n    // MyApp = require('./index.vue')\r\n}\r\nconst app = new Vue(MyApp);\r\napp.$mount();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { getCategories, getCategoryProduct } from '@/data/index';\r\nconst state = {\r\n    categories: [],\r\n    products: {}\r\n};\r\nconst mutations = {\r\n    updateCategories(state, categories) {\r\n        state.categories = categories;\r\n    },\r\n    updateCategoryProduct(state, products) {\r\n        state.products = products;\r\n    }\r\n};\r\nconst actions = {\r\n    // 获取目录\r\n    getCategories({ commit }) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let data = yield getCategories();\r\n            console.log('data...', data);\r\n            commit('updateCategories', data.data);\r\n        });\r\n    },\r\n    // 获取详情\r\n    getCategoryProduct({ commit }, id) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let data = yield getCategoryProduct(id);\r\n            console.log('data...', data);\r\n            commit('updateCategoryProduct', data.data);\r\n        });\r\n    }\r\n};\r\nexport default {\r\n    namespaced: true,\r\n    mutations,\r\n    state,\r\n    actions\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/index.ts","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { search } from '@/data/index';\r\nconst state = {\r\n    list: []\r\n};\r\nconst mutations = {\r\n    updateList(state, list) {\r\n        function formatPrice(price) {\r\n            price = price.toString();\r\n            let len = price.length;\r\n            return '￥' + price.slice(0, len - 2) + '.' + price.slice(len - 2);\r\n        }\r\n        list.forEach(item => {\r\n            item.sell_price = formatPrice(item.sell_price);\r\n        });\r\n        state.list = list;\r\n    }\r\n};\r\nconst actions = {\r\n    search({ commit }, q) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let data = yield search(q);\r\n            console.log('data...', data);\r\n            commit('updateList', data.data);\r\n        });\r\n    }\r\n};\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    mutations,\r\n    actions\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/search.ts"],"sourceRoot":""}